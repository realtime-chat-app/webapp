<div class="container">
  <div>
    <ng-container
      *ngTemplateOutlet="chatsContainer; context: { chats: (chats$ | async) }"
    >
    </ng-container>
  </div>
  <chat-conversation
    class="conversation"
    [chat]="currentChat$.asObservable() | async"
  ></chat-conversation>
</div>

<ng-template #chatsContainer let-chats="chats">
  <ng-container *ngIf="chats">
    <chat-user-area [chats]="chats"></chat-user-area>
    <chat-list
      [chats]="chats"
      (chatSelected)="chatSelected($event)"
    ></chat-list>
  </ng-container>
</ng-template>
